{"remainingRequest":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js!E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\src\\pages\\institutionSearch\\institutionSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\src\\pages\\institutionSearch\\institutionSearch.vue","mtime":1712174144505},{"path":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710318967506},{"path":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1710318987774},{"path":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710318967506},{"path":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1710318977016}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbnN0aXR1dGlvbkVudGl0eUxpc3Q6IFtdLAogICAgICBjb2xsZWdlTWFqb3JMaXN0OiBbXSwKICAgICAgaW5zdGl0dXRpb25OYW1lOiAnJywKICAgICAgY29sbGVnZU1ham9yOiAnJywKICAgICAgdXNlcklkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRJbnN0aXR1dGlvbkxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEluc3RpdHV0aW9uTGlzdDogZnVuY3Rpb24gZ2V0SW5zdGl0dXRpb25MaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kaHR0cC5nZXQoJ2luc3RpdHV0aW9uL2ZpbmRJbnN0aXR1dGlvbicsIHsKICAgICAgICBwYXJhbXM6IE9iamVjdC5hc3NpZ24oewogICAgICAgICAgJ3VzZXJJZCc6IHRoaXMudXNlcklkCiAgICAgICAgfSkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuaW5zdGl0dXRpb25FbnRpdHlMaXN0ID0gcmVzLmRhdGEuaW5zdGl0dXRpb25FbnRpdHlMaXN0OwogICAgICAgIF90aGlzLmNvbGxlZ2VNYWpvckxpc3QgPSByZXMuZGF0YS5jb2xsZWdlTWFqb3JMaXN0OwogICAgICB9KTsKICAgIH0sCiAgICBmaW5kSW5zdGl0dXRpb246IGZ1bmN0aW9uIGZpbmRJbnN0aXR1dGlvbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgaW5zdGl0dXRpb25OYW1lID0gdGhpcy5pbnN0aXR1dGlvbk5hbWU7CiAgICAgIHZhciBjb2xsZWdlTWFqb3IgPSB0aGlzLmNvbGxlZ2VNYWpvcjsKICAgICAgdGhpcy4kaHR0cC5nZXQoJ2luc3RpdHV0aW9uL2ZpbmRJbnN0aXR1dGlvbicsIHsKICAgICAgICBwYXJhbXM6IE9iamVjdC5hc3NpZ24oewogICAgICAgICAgJ2luc3RpdHV0aW9uTmFtZSc6IGluc3RpdHV0aW9uTmFtZSwKICAgICAgICAgICdjb2xsZWdlTWFqb3InOiBjb2xsZWdlTWFqb3IsCiAgICAgICAgICAndXNlcklkJzogdGhpcy51c2VySWQKICAgICAgICB9KQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuaW5zdGl0dXRpb25FbnRpdHlMaXN0ID0gcmVzLmRhdGEuaW5zdGl0dXRpb25FbnRpdHlMaXN0OwogICAgICAgIF90aGlzMi5jb2xsZWdlTWFqb3JMaXN0ID0gcmVzLmRhdGEuY29sbGVnZU1ham9yTGlzdDsKICAgICAgfSk7CiAgICB9LAogICAgcmVsb2FkOiBmdW5jdGlvbiByZWxvYWQoKSB7CiAgICAgIHRoaXMuaW5zdGl0dXRpb25OYW1lID0gJyc7CiAgICAgIHRoaXMuY29sbGVnZU1ham9yID0gJyc7CiAgICAgIHRoaXMuZ2V0SW5zdGl0dXRpb25MaXN0KCk7CiAgICB9LAogICAgYXBwbHlGb3I6IGZ1bmN0aW9uIGFwcGx5Rm9yKGluc3RpdHV0aW9uSWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLmdldCgnaW5zdGl0dXRpb24vYXBwbHlGb3InLCB7CiAgICAgICAgcGFyYW1zOiBPYmplY3QuYXNzaWduKHsKICAgICAgICAgICdpbnN0aXR1dGlvbklkJzogaW5zdGl0dXRpb25JZCwKICAgICAgICAgICd1c2VySWQnOiB0aGlzLnVzZXJJZAogICAgICAgIH0pCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczMuZ2V0SW5zdGl0dXRpb25MaXN0KCk7CiAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5jb2RlID09IDQwMCkgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc3RvcmV1cDogZnVuY3Rpb24gc3RvcmV1cChjb2xsZWN0RmxhZywgaW5zdGl0dXRpb25JZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAuZ2V0KCdpbnN0aXR1dGlvbi91cGRhdGVDb2xsZWN0JywgewogICAgICAgIHBhcmFtczogT2JqZWN0LmFzc2lnbih7CiAgICAgICAgICAnaW5zdGl0dXRpb25JZCc6IGluc3RpdHV0aW9uSWQsCiAgICAgICAgICAndXNlcklkJzogdGhpcy51c2VySWQsCiAgICAgICAgICAnY29sbGVjdEZsYWcnOiBjb2xsZWN0RmxhZwogICAgICAgIH0pCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBkdXJhdGlvbjogMTUwMAogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXM0LmdldEluc3RpdHV0aW9uTGlzdCgpOwogICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuY29kZSA9PSA0MDApIHsKICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["institutionSearch.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\r\n  <div>\r\n    <div :style='{\"padding\":\"12px\",\"boxShadow\":\"0 0px 6px #999\",\"margin\":\"0px auto\",\"borderColor\":\"#fff\",\"borderRadius\":\"0px\",\"background\":\"linear-gradient(180deg, #eee 0%, #fff 32%, #eee 100%)\",\"borderWidth\":\"1px 0 1px 0\",\"width\":\"100%\",\"borderStyle\":\"solid\"}' class=\"breadcrumb-preview\">\r\n      <el-breadcrumb :separator=\"'Ξ'\" :style='{\"width\":\"1200px\",\"margin\":\"0 auto\",\"fontSize\":\"14px\",\"lineHeight\":\"1\"}'>\r\n        <el-breadcrumb-item>home page</el-breadcrumb-item>\r\n        <el-breadcrumb-item>School search</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <el-card style=\"width: 60%; margin: 30px auto 0px auto;\">\r\n      <el-form label-width=\"120px\" :inline=\"true\">\r\n        <el-form-item label=\"College name\" style=\"width: 30%;\">\r\n          <el-input v-model=\"institutionName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"College majors\"  style=\"width: 45%;\">\r\n          <el-select placeholder=\"Please select the major of the university\" v-model=\"collegeMajor\" style=\"width: 300px;\">\r\n            <el-option v-for=\"collegeMajor in collegeMajorList\" :label=\"collegeMajor.collegeMajor\" :value=\"collegeMajor.collegeMajor\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" style=\"margin: auto 10px auto -60px;\" @click=\"findInstitution()\">query</el-button>\r\n        <el-button type=\"warning\" icon=\"el-icon-refresh\" @click=\"reload()\">Reset</el-button>\r\n      </el-form>\r\n    </el-card>\r\n\r\n    <el-card class=\"box-card\" style=\"width: 60%; margin: 20px auto 30px auto;\">\r\n      <el-table\r\n          :data=\"institutionEntityList\"\r\n          stripe\r\n          style=\"width: 100%; font-size: 16px;\">\r\n        <el-table-column\r\n            prop=\"institutionRanking\"\r\n            label=\"ranking\"\r\n            width=\"120\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"institutionPicture\" label=\"Avatar\" width=\"150\">\r\n          <template slot-scope=\"scope\">\r\n            <img :src=\"scope.row.institutionPicture\" :min-width=\"70\" :height=\"70\"/>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"institutionName\" label=\"College name\" width=\"630\">\r\n          <template  slot-scope=\"scope\">\r\n            <a :href=\"scope.row.institutionUrl\" target=\"_blank\" style=\"text-decoration: none; color: #007AA1;\">{{scope.row.institutionName}}</a>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"application\">\r\n          <template  slot-scope=\"scope\">\r\n            <el-button @click=\"applyFor(scope.row.institutionId)\" type=\"success\">application</el-button>\r\n            <div @click=\"storeup(1, scope.row.institutionId)\" v-show=\"scope.row.collectEntity == null || scope.row.collectEntity.collectFlag == 0\" :style='{\"cursor\":\"pointer\",\"borderRadius\":\"20px\"}'><i v-if=\"true\" :style='{\"color\":\"#ffb966\",\"fontSize\":\"14px\"}' class=\"el-icon-star-off\"></i><span :style='{\"color\":\"#ffb966\",\"fontSize\":\"14px\"}'>Click on my favorites</span></div>\r\n            <div @click=\"storeup(0, scope.row.institutionId)\" v-show=\"scope.row.collectEntity != null && scope.row.collectEntity.collectFlag == 1\" :style='{\"cursor\":\"pointer\",\"borderRadius\":\"20px\"}'><i v-if=\"true\" :style='{\"color\":\"#ffb966\",\"fontSize\":\"14px\"}' class=\"el-icon-star-on\"></i><span :style='{\"color\":\"#ffb966\",\"fontSize\":\"14px\"}'>Cancel Favorite</span></div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      institutionEntityList: [],\r\n      collegeMajorList: [],\r\n      institutionName: '',\r\n      collegeMajor: '',\r\n      userId: localStorage.getItem('userId'),\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getInstitutionList();\r\n  },\r\n\r\n  methods: {\r\n    getInstitutionList() {\r\n      this.$http.get('institution/findInstitution', {params: Object.assign({'userId' : this.userId})}).then(res => {\r\n        this.institutionEntityList = res.data.institutionEntityList;\r\n        this.collegeMajorList = res.data.collegeMajorList;\r\n      });\r\n    },\r\n\r\n    findInstitution() {\r\n      let institutionName = this.institutionName;\r\n      let collegeMajor = this.collegeMajor;\r\n\r\n      this.$http.get('institution/findInstitution', {params: Object.assign({'institutionName': institutionName, 'collegeMajor' : collegeMajor, 'userId' : this.userId})}).then(res => {\r\n        this.institutionEntityList = res.data.institutionEntityList;\r\n        this.collegeMajorList = res.data.collegeMajorList;\r\n      });\r\n    },\r\n\r\n    reload() {\r\n      this.institutionName = '';\r\n      this.collegeMajor = '';\r\n      this.getInstitutionList();\r\n    },\r\n\r\n    applyFor(institutionId) {\r\n      this.$http.get('institution/applyFor', {params: Object.assign({'institutionId': institutionId, 'userId' : this.userId})}).then(res => {\r\n        if (res.data.code == 200) {\r\n          this.$message({\r\n            message: res.data.message,\r\n            type: 'success'\r\n          });\r\n\r\n          this.getInstitutionList();\r\n        } else if (res.data.code == 400) {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n    },\r\n\r\n    storeup(collectFlag, institutionId) {\r\n\r\n      this.$http.get('institution/updateCollect', {params: Object.assign({'institutionId': institutionId, 'userId' : this.userId, 'collectFlag' : collectFlag})}).then(res => {\r\n        if (res.data.code == 200) {\r\n          this.$message({\r\n            message: res.data.message,\r\n            type: 'success',\r\n            duration: 1500,\r\n          });\r\n\r\n          this.getInstitutionList();\r\n        } else if (res.data.code == 400) {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/pages/institutionSearch"}]}