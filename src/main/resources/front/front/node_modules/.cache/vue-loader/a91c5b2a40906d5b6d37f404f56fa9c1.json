{"remainingRequest":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\src\\pages\\institutionSearch\\institutionSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\src\\pages\\institutionSearch\\institutionSearch.vue","mtime":1712174144505},{"path":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710318967506},{"path":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1710318987774},{"path":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1710318967506},{"path":"E:\\订单\\毕业设计\\留学帮助网站\\小嫦娥-3.31\\代码\\studyAbroadHelp\\src\\main\\resources\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1710318977016}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGluc3RpdHV0aW9uRW50aXR5TGlzdDogW10sDQogICAgICBjb2xsZWdlTWFqb3JMaXN0OiBbXSwNCiAgICAgIGluc3RpdHV0aW9uTmFtZTogJycsDQogICAgICBjb2xsZWdlTWFqb3I6ICcnLA0KICAgICAgdXNlcklkOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyksDQogICAgfQ0KICB9LA0KDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRJbnN0aXR1dGlvbkxpc3QoKTsNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgZ2V0SW5zdGl0dXRpb25MaXN0KCkgew0KICAgICAgdGhpcy4kaHR0cC5nZXQoJ2luc3RpdHV0aW9uL2ZpbmRJbnN0aXR1dGlvbicsIHtwYXJhbXM6IE9iamVjdC5hc3NpZ24oeyd1c2VySWQnIDogdGhpcy51c2VySWR9KX0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5pbnN0aXR1dGlvbkVudGl0eUxpc3QgPSByZXMuZGF0YS5pbnN0aXR1dGlvbkVudGl0eUxpc3Q7DQogICAgICAgIHRoaXMuY29sbGVnZU1ham9yTGlzdCA9IHJlcy5kYXRhLmNvbGxlZ2VNYWpvckxpc3Q7DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgZmluZEluc3RpdHV0aW9uKCkgew0KICAgICAgbGV0IGluc3RpdHV0aW9uTmFtZSA9IHRoaXMuaW5zdGl0dXRpb25OYW1lOw0KICAgICAgbGV0IGNvbGxlZ2VNYWpvciA9IHRoaXMuY29sbGVnZU1ham9yOw0KDQogICAgICB0aGlzLiRodHRwLmdldCgnaW5zdGl0dXRpb24vZmluZEluc3RpdHV0aW9uJywge3BhcmFtczogT2JqZWN0LmFzc2lnbih7J2luc3RpdHV0aW9uTmFtZSc6IGluc3RpdHV0aW9uTmFtZSwgJ2NvbGxlZ2VNYWpvcicgOiBjb2xsZWdlTWFqb3IsICd1c2VySWQnIDogdGhpcy51c2VySWR9KX0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5pbnN0aXR1dGlvbkVudGl0eUxpc3QgPSByZXMuZGF0YS5pbnN0aXR1dGlvbkVudGl0eUxpc3Q7DQogICAgICAgIHRoaXMuY29sbGVnZU1ham9yTGlzdCA9IHJlcy5kYXRhLmNvbGxlZ2VNYWpvckxpc3Q7DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgcmVsb2FkKCkgew0KICAgICAgdGhpcy5pbnN0aXR1dGlvbk5hbWUgPSAnJzsNCiAgICAgIHRoaXMuY29sbGVnZU1ham9yID0gJyc7DQogICAgICB0aGlzLmdldEluc3RpdHV0aW9uTGlzdCgpOw0KICAgIH0sDQoNCiAgICBhcHBseUZvcihpbnN0aXR1dGlvbklkKSB7DQogICAgICB0aGlzLiRodHRwLmdldCgnaW5zdGl0dXRpb24vYXBwbHlGb3InLCB7cGFyYW1zOiBPYmplY3QuYXNzaWduKHsnaW5zdGl0dXRpb25JZCc6IGluc3RpdHV0aW9uSWQsICd1c2VySWQnIDogdGhpcy51c2VySWR9KX0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiByZXMuZGF0YS5tZXNzYWdlLA0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnDQogICAgICAgICAgfSk7DQoNCiAgICAgICAgICB0aGlzLmdldEluc3RpdHV0aW9uTGlzdCgpOw0KICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLmNvZGUgPT0gNDAwKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tZXNzYWdlKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIHN0b3JldXAoY29sbGVjdEZsYWcsIGluc3RpdHV0aW9uSWQpIHsNCg0KICAgICAgdGhpcy4kaHR0cC5nZXQoJ2luc3RpdHV0aW9uL3VwZGF0ZUNvbGxlY3QnLCB7cGFyYW1zOiBPYmplY3QuYXNzaWduKHsnaW5zdGl0dXRpb25JZCc6IGluc3RpdHV0aW9uSWQsICd1c2VySWQnIDogdGhpcy51c2VySWQsICdjb2xsZWN0RmxhZycgOiBjb2xsZWN0RmxhZ30pfSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAyMDApIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1lc3NhZ2UsDQogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwNCiAgICAgICAgICB9KTsNCg0KICAgICAgICAgIHRoaXMuZ2V0SW5zdGl0dXRpb25MaXN0KCk7DQogICAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuY29kZSA9PSA0MDApIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1lc3NhZ2UpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICB9DQp9DQo="},{"version":3,"sources":["institutionSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"institutionSearch.vue","sourceRoot":"src/pages/institutionSearch","sourcesContent":["<template>\r\n\r\n  <div>\r\n    <div :style='{\"padding\":\"12px\",\"boxShadow\":\"0 0px 6px #999\",\"margin\":\"0px auto\",\"borderColor\":\"#fff\",\"borderRadius\":\"0px\",\"background\":\"linear-gradient(180deg, #eee 0%, #fff 32%, #eee 100%)\",\"borderWidth\":\"1px 0 1px 0\",\"width\":\"100%\",\"borderStyle\":\"solid\"}' class=\"breadcrumb-preview\">\r\n      <el-breadcrumb :separator=\"'Ξ'\" :style='{\"width\":\"1200px\",\"margin\":\"0 auto\",\"fontSize\":\"14px\",\"lineHeight\":\"1\"}'>\r\n        <el-breadcrumb-item>home page</el-breadcrumb-item>\r\n        <el-breadcrumb-item>School search</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n\r\n    <el-card style=\"width: 60%; margin: 30px auto 0px auto;\">\r\n      <el-form label-width=\"120px\" :inline=\"true\">\r\n        <el-form-item label=\"College name\" style=\"width: 30%;\">\r\n          <el-input v-model=\"institutionName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"College majors\"  style=\"width: 45%;\">\r\n          <el-select placeholder=\"Please select the major of the university\" v-model=\"collegeMajor\" style=\"width: 300px;\">\r\n            <el-option v-for=\"collegeMajor in collegeMajorList\" :label=\"collegeMajor.collegeMajor\" :value=\"collegeMajor.collegeMajor\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" style=\"margin: auto 10px auto -60px;\" @click=\"findInstitution()\">query</el-button>\r\n        <el-button type=\"warning\" icon=\"el-icon-refresh\" @click=\"reload()\">Reset</el-button>\r\n      </el-form>\r\n    </el-card>\r\n\r\n    <el-card class=\"box-card\" style=\"width: 60%; margin: 20px auto 30px auto;\">\r\n      <el-table\r\n          :data=\"institutionEntityList\"\r\n          stripe\r\n          style=\"width: 100%; font-size: 16px;\">\r\n        <el-table-column\r\n            prop=\"institutionRanking\"\r\n            label=\"ranking\"\r\n            width=\"120\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"institutionPicture\" label=\"Avatar\" width=\"150\">\r\n          <template slot-scope=\"scope\">\r\n            <img :src=\"scope.row.institutionPicture\" :min-width=\"70\" :height=\"70\"/>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"institutionName\" label=\"College name\" width=\"630\">\r\n          <template  slot-scope=\"scope\">\r\n            <a :href=\"scope.row.institutionUrl\" target=\"_blank\" style=\"text-decoration: none; color: #007AA1;\">{{scope.row.institutionName}}</a>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"application\">\r\n          <template  slot-scope=\"scope\">\r\n            <el-button @click=\"applyFor(scope.row.institutionId)\" type=\"success\">application</el-button>\r\n            <div @click=\"storeup(1, scope.row.institutionId)\" v-show=\"scope.row.collectEntity == null || scope.row.collectEntity.collectFlag == 0\" :style='{\"cursor\":\"pointer\",\"borderRadius\":\"20px\"}'><i v-if=\"true\" :style='{\"color\":\"#ffb966\",\"fontSize\":\"14px\"}' class=\"el-icon-star-off\"></i><span :style='{\"color\":\"#ffb966\",\"fontSize\":\"14px\"}'>Click on my favorites</span></div>\r\n            <div @click=\"storeup(0, scope.row.institutionId)\" v-show=\"scope.row.collectEntity != null && scope.row.collectEntity.collectFlag == 1\" :style='{\"cursor\":\"pointer\",\"borderRadius\":\"20px\"}'><i v-if=\"true\" :style='{\"color\":\"#ffb966\",\"fontSize\":\"14px\"}' class=\"el-icon-star-on\"></i><span :style='{\"color\":\"#ffb966\",\"fontSize\":\"14px\"}'>Cancel Favorite</span></div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      institutionEntityList: [],\r\n      collegeMajorList: [],\r\n      institutionName: '',\r\n      collegeMajor: '',\r\n      userId: localStorage.getItem('userId'),\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.getInstitutionList();\r\n  },\r\n\r\n  methods: {\r\n    getInstitutionList() {\r\n      this.$http.get('institution/findInstitution', {params: Object.assign({'userId' : this.userId})}).then(res => {\r\n        this.institutionEntityList = res.data.institutionEntityList;\r\n        this.collegeMajorList = res.data.collegeMajorList;\r\n      });\r\n    },\r\n\r\n    findInstitution() {\r\n      let institutionName = this.institutionName;\r\n      let collegeMajor = this.collegeMajor;\r\n\r\n      this.$http.get('institution/findInstitution', {params: Object.assign({'institutionName': institutionName, 'collegeMajor' : collegeMajor, 'userId' : this.userId})}).then(res => {\r\n        this.institutionEntityList = res.data.institutionEntityList;\r\n        this.collegeMajorList = res.data.collegeMajorList;\r\n      });\r\n    },\r\n\r\n    reload() {\r\n      this.institutionName = '';\r\n      this.collegeMajor = '';\r\n      this.getInstitutionList();\r\n    },\r\n\r\n    applyFor(institutionId) {\r\n      this.$http.get('institution/applyFor', {params: Object.assign({'institutionId': institutionId, 'userId' : this.userId})}).then(res => {\r\n        if (res.data.code == 200) {\r\n          this.$message({\r\n            message: res.data.message,\r\n            type: 'success'\r\n          });\r\n\r\n          this.getInstitutionList();\r\n        } else if (res.data.code == 400) {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n    },\r\n\r\n    storeup(collectFlag, institutionId) {\r\n\r\n      this.$http.get('institution/updateCollect', {params: Object.assign({'institutionId': institutionId, 'userId' : this.userId, 'collectFlag' : collectFlag})}).then(res => {\r\n        if (res.data.code == 200) {\r\n          this.$message({\r\n            message: res.data.message,\r\n            type: 'success',\r\n            duration: 1500,\r\n          });\r\n\r\n          this.getInstitutionList();\r\n        } else if (res.data.code == 400) {\r\n          this.$message.error(res.data.message);\r\n        }\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}